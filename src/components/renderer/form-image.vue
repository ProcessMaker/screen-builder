<template>
  <div class="form-group form-image">
    <!-- RENDER FROM VARIABLE -->
    <img :src="value" :name="variableName" />
    <!-- <img src="data:image/png;base64,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" /> -->
    
    <!-- KEEP ORIGINAL IMAGE UPLOAD -->
    <!-- <img v-if="!renderImage && image" :src="image" :width="width" :height="height" :id="id"> -->
    <!-- <i v-else class="empty-image far fa-image" /> -->
  </div>
</template>

<script>
import Vue from 'vue';

export default {
  props: ['id', 'image', 'width', 'height', 'name', 'renderImage', 'variableName', 'value'],
  data() {
    return {
      imageUrl: null,
    }
  },
  computed: {
    classList() {
      let variant = this.variant || 'primary';
      return {
        btn: true,
        ['btn-' + variant]: true,
      };
    },
    mode() {
      return this.$root.$children[0].mode;
    },
  },
  watch: {
    mode() {
      if (this.mode == 'editor') {
        return;
      }
      this.displayRenderedImage();
    },
  },
  methods: {
    setValue(parent, name, value) {
      if (parent.items) {
        this.setValue(parent.$parent, name, value);
      } else {
        Vue.set(parent.data, name, value);
      }
    },
    click() {
      if (this.name) {
        this.setValue(this.$parent, this.name, this.$attrs.value);
      }
      this.$emit(this.event, this.eventData);
    },
    displayRenderedImage() {      
      if (!this.renderImage) {
        return;
      }
      if (this.$parent.data) {
        this.imageUrl = this.$parent.data[this.variableName];
        this.$emit('input', this.imageUrl);
      }
    }
  },
  mounted() {
    this.displayRenderedImage();
  }
};
</script>

<style lang="scss" scoped>
  .empty-image {
    font-size: 2em;
  }
  .form-image {
    overflow-x: hidden;
  }
</style>
